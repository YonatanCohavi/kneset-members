import{W as V,r as u}from"./index.402efbac.js";const l="v2",b=V("statistics",()=>{const r=u([]),o=u(),d=e=>e<<1|1,f=e=>e<<1;function a(){r.value=[],o.value=l}function v(){o.value!=l&&a()}function c(e,t,S){const s=i(e),n=t?1:0,g=S?1:0;s?(s.guesses++,s.wrong+=n,s.aperences+=g,s.correct+=1-n,console.log(s.grade),t?s.grade=f(s.grade):s.grade=d(s.grade)):r.value.push({memberId:e,aperences:g,correct:1-n,wrong:n,guesses:1,grade:t?0:1})}const p=(e,t)=>(e>>>0).toString(2).padStart(Math.min(t,32),"0"),h=e=>{if(!e)return{correct:0,wrong:0};const t=p(e.grade,e.guesses);return{correct:[...t.matchAll(/1/g)].length,wrong:[...t.matchAll(/0/g)].length}},m=(e,t)=>c(e,!0,t),w=(e,t)=>c(e,!1,t),i=e=>r.value.find(t=>t.memberId==e);return{knowlage:r,version:o,setWrongGuess:m,setCorrectGuess:w,reset:a,getStatistics:i,inValidateVersion:v,getLastGuesses:h}},{persist:{afterRestore:r=>{r.store.inValidateVersion()}}});export{b as u};
